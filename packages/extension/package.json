{
  "name": "encantis-vscode-ext",
  "displayName": "Encantis Language",
  "description": "Language support for Encantis (.ents files) - syntax highlighting, diagnostics, and hover",
  "version": "0.1.0",
  "repository": "https://github.com/creationix/encantis-ext",
  "publisher": "creationix",
  "icon": "icon-128.png",
  "engines": {
    "vscode": "^1.75.0"
  },
  "categories": [
    "Programming Languages",
    "Themes"
  ],
  "activationEvents": [],
  "main": "./dist/node/extension.js",
  "browser": "./dist/web/extension.js",
  "scripts": {
    "vscode:prepublish": "bun run bundle",
    "bundle": "bun run bundle:node && bun run bundle:web",
    "bundle:node": "bun build src/extension.ts src/server/lsp.ts --outdir dist/node --target node --format cjs --external vscode",
    "bundle:web": "bun build src/web/extension.ts src/web/server.ts --outdir dist/web --format esm --minify --external vscode",
    "watch": "tsc -watch -p ./",
    "watch:node": "bun build src/extension.ts src/server/lsp.ts --outdir dist/node --target node --format cjs --sourcemap=inline --external vscode --watch",
    "watch:web": "bun build src/web/extension.ts src/web/server.ts --outdir dist/web --format esm --sourcemap=inline --external vscode --watch",
    "typecheck": "tsc -p ./ --noEmit",
    "package": "bun vsce package --no-dependencies"
  },
  "dependencies": {
    "@encantis/compiler": "workspace:*",
    "vscode-languageclient": "^9.0.1",
    "vscode-languageserver": "^9.0.1",
    "vscode-languageserver-textdocument": "^1.0.11"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/vscode": "^1.75.0",
    "@types/bun": "^1.3.6",
    "@vscode/vsce": "^3.0.0",
    "typescript": "^5.0.0"
  },
  "contributes": {
    "commands": [
      {
        "command": "encantis.openWatPreview",
        "title": "Open WAT Preview",
        "category": "Encantis",
        "icon": "$(open-preview)"
      },
      {
        "command": "encantis.openWatPreviewSide",
        "title": "Open WAT Preview to the Side",
        "category": "Encantis",
        "icon": "$(open-preview)"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "encantis.openWatPreviewSide",
          "when": "editorLangId == encantis",
          "group": "navigation"
        }
      ],
      "commandPalette": [
        {
          "command": "encantis.openWatPreview",
          "when": "editorLangId == encantis"
        },
        {
          "command": "encantis.openWatPreviewSide",
          "when": "editorLangId == encantis"
        }
      ]
    },
    "keybindings": [
      {
        "command": "encantis.openWatPreview",
        "key": "ctrl+shift+v",
        "mac": "cmd+shift+v",
        "when": "editorLangId == encantis"
      },
      {
        "command": "encantis.openWatPreviewSide",
        "key": "ctrl+k v",
        "mac": "cmd+k v",
        "when": "editorLangId == encantis"
      }
    ],
    "languages": [
      {
        "id": "encantis",
        "aliases": [
          "encantis",
          "ents"
        ],
        "extensions": [
          ".ents",
          ".encantis"
        ],
        "configuration": "./language-configuration.json",
        "icon": {
          "light": "./icons/encantis-file.svg",
          "dark": "./icons/encantis-file.svg"
        }
      },
      {
        "id": "encantis-injection"
      }
    ],
    "grammars": [
      {
        "language": "encantis",
        "scopeName": "source.encantis",
        "path": "encantis.tmlanguage.json"
      },
      {
        "language": "encantis-injection",
        "scopeName": "markdown.encantis.codeblock",
        "path": "./codeblock.json",
        "injectTo": [
          "text.html.markdown"
        ],
        "embeddedLanguages": {
          "meta.embedded.block.encantis": "encantis"
        }
      }
    ],
    "themes": [
      {
        "label": "Encantis Dark",
        "uiTheme": "vs-dark",
        "path": "./dark-color-theme.json"
      },
      {
        "label": "Encantis Dark Vibrant",
        "uiTheme": "vs-dark",
        "path": "./dark-color-vibrant-theme.json"
      },
      {
        "label": "Encantis Light",
        "uiTheme": "vs",
        "path": "./light-color-theme.json"
      }
    ],
    "configurationDefaults": {
      "[encantis]": {
        "editor.semanticHighlighting.enabled": true,
        "editor.wordSeparators": "`~!@#$%^&*()=+[{]}\\|;:'\",.<>/?"
      }
    },
    "semanticTokenScopes": [
      {
        "language": "encantis",
        "scopes": {
          "parameter": [
            "variable.parameter.encantis"
          ],
          "parameter.input": [
            "variable.parameter.input.encantis"
          ],
          "parameter.output": [
            "variable.parameter.output.encantis"
          ],
          "variable": [
            "variable.other.local.encantis"
          ],
          "variable.readonly": [
            "variable.other.constant.encantis"
          ],
          "variable.static": [
            "variable.other.global.encantis"
          ],
          "variable.static.readonly": [
            "variable.other.definition.encantis"
          ],
          "function": [
            "entity.name.function.encantis"
          ],
          "function.declaration": [
            "entity.name.function.declaration.encantis"
          ],
          "type": [
            "entity.name.type.encantis"
          ],
          "type.declaration": [
            "entity.name.type.declaration.encantis"
          ],
          "macro": [
            "entity.name.constant.encantis"
          ],
          "macro.readonly": [
            "entity.name.constant.encantis"
          ]
        }
      }
    ]
  }
}
